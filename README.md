# 🤖 AI専門家チャット - Streamlit LLM App

LangChainとStreamlitを使用したAI専門家チャットアプリケーションです。3つの異なる専門分野のAIアシスタントから回答を得ることができます。

## 🌟 機能

- **専門家選択**: ラジオボタンで3つの専門分野から選択
  - 💻 プログラミング専門家
  - 🏥 医療専門家  
  - 📚 教育専門家
- **リアルタイム回答**: 選択した専門家がリアルタイムで質問に回答
- **チャット履歴**: 過去の質問と回答を履歴として保存・表示
- **使いやすいUI**: Streamlitによる直感的なWebインターフェース

## 🚀 セットアップ

### 1. 必要な環境
- Python 3.11+
- OpenAI API キー

### 2. パッケージのインストール

```bash
# 仮想環境の有効化（既に設定済み）
env\Scripts\activate

# 必要なパッケージをインストール
pip install streamlit langchain langchain-openai python-dotenv
```

### 3. 環境変数の設定

プロジェクトルートに`.env`ファイルを作成し、OpenAI APIキーを設定してください：

```env
OPENAI_API_KEY=your_openai_api_key_here
```

### 4. アプリケーションの起動

```bash
streamlit run app.py
```

ブラウザで `http://localhost:8501` にアクセスしてアプリケーションを使用できます。

## 📱 使用方法

1. **専門家を選択**: ラジオボタンから相談したい専門分野を選択
2. **質問を入力**: テキストエリアに質問を入力
3. **送信**: 「質問を送信」ボタンをクリック
4. **回答確認**: 選択した専門家からの回答を確認
5. **履歴確認**: 「チャット履歴」を展開して過去のやり取りを確認

## 🛠️ 技術スタック

- **Streamlit**: Webアプリケーションフレームワーク
- **LangChain**: LLM統合フレームワーク
- **OpenAI GPT-3.5**: 言語モデル
- **Python-dotenv**: 環境変数管理

## 📝 コード構造

### 主要関数

#### `get_expert_system_message(expert_type)`
選択された専門家タイプに応じて適切なシステムメッセージを返します。

#### `get_llm_response(user_input, expert_type)`
ユーザーの入力と専門家タイプを受け取り、LangChainを通してLLMから回答を取得します。

- **引数**:
  - `user_input` (str): ユーザーの質問テキスト
  - `expert_type` (str): 選択された専門家タイプ
- **戻り値**: 
  - str: LLMからの回答

### UIコンポーネント

- ラジオボタン: 専門家選択
- テキストエリア: 質問入力
- ボタン: 送信アクション
- 履歴表示: 過去のチャット記録

## ⚠️ 注意事項

- OpenAI APIキーが必要です
- インターネット接続が必要です
- 医療に関する回答は一般的な情報のみで、具体的な診断・治療については医師に相談してください

## 🔧 トラブルシューティング

### APIキーエラー
`.env`ファイルに正しいOpenAI APIキーが設定されているか確認してください。

### パッケージエラー
仮想環境が有効化されているか確認し、必要なパッケージがインストールされているか確認してください。